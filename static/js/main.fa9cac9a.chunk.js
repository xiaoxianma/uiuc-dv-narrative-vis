(this["webpackJsonpuiuc-dv-narrative-vis"]=this["webpackJsonpuiuc-dv-narrative-vis"]||[]).push([[0],{329:function(e,t,a){e.exports=a.p+"static/media/2019.de665a57.csv"},365:function(e,t,a){e.exports=a(691)},371:function(e,t,a){},691:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(48),o=a.n(c),i=(a(370),a(314)),l=a.n(i),s=(a(371),a(16)),u=a(711),m=a(709),p=Object(m.a)((function(e){return{content:{color:"white",fontSize:20}}}));function d(){var e=p();return(r.a.createElement("div",{className:"section"},r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:3}),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",null,r.a.createElement("h3",null,"Introduction")),r.a.createElement("div",{className:e.content,align:"left"},"In this project, we perform a detailed data analysis on the World Happiness Report of 2019. The World Happiness Report is a landmark survey of the state of global happiness. The report reviews the state of happiness in the world and shows how the science of happiness explains personal and national variations in happiness. It is one approach to measuring humanities well-being. There are six factors are selected due to their high contribution to making life evaluation higher in each country including economic production, social support, life expectancy, freedom, absence of corruption, and generosity. They have no impact on the total score reported for each country, but they do explain why some countries rank higher than others.")),r.a.createElement(u.a,{item:!0,xs:3}))))}var h=a(65),f=a(32),y=a(210),b=a(156),g=Object(m.a)((function(e){return{plot:{leftMargin:e.spacing(10)}}}));function E(e){g();var t=Object(n.useRef)(),a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1];Object(n.useEffect)((function(){var t,a=[],n=Object(h.a)(e.reportData.slice(0,20));try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push({name:r.country,gdp:parseFloat(r["gdp-per-capita"]),social:r["social-support"],health:r["healthy-life-expectancy"],freedom:r.freedom,generosity:r.generosity,perceptions:r["perceptions-of-corruption"]})}}catch(c){n.e(c)}finally{n.f()}i(a)}),[e.reportData]),Object(n.useEffect)((function(){b.b(t.current).append("circle").attr("cx",150).attr("cy",70).attr("r",50)}),[]);return r.a.createElement("div",{className:"section"},r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:2}),r.a.createElement(u.a,{item:!0,xs:8},r.a.createElement("h4",null,"Top 20 Happiest Countries"),r.a.createElement(f.b,{layout:"horizontal",width:1600,height:800,data:o,margin:{top:20,right:30,left:20,bottom:100}},r.a.createElement(f.e,{dataKey:"name",type:"category",interval:0,angle:-30,tick:{fill:"white",fontSize:16,dy:35,dx:-10}}),r.a.createElement(f.f,null),r.a.createElement(f.d,null),r.a.createElement(f.c,{verticalAlign:"top",formatter:function(e,t){var a=t.color;return(r.a.createElement("span",{style:{color:a}},e))}}),r.a.createElement(f.a,{dataKey:"gdp",stackId:"a",fill:"#8884d8",animationBegin:100,animationDuration:2e3}),r.a.createElement(f.a,{dataKey:"social",stackId:"a",fill:"#f06292",animationBegin:100,animationDuration:2e3}),r.a.createElement(f.a,{dataKey:"health",stackId:"a",fill:"#ba68c8",animationBegin:100,animationDuration:2e3}),r.a.createElement(f.a,{dataKey:"freedom",stackId:"a",fill:"#4dd0e1",animationBegin:100,animationDuration:2e3}),r.a.createElement(f.a,{dataKey:"generosity",stackId:"a",fill:"#ffd54f",animationBegin:100,animationDuration:2e3}),r.a.createElement(f.a,{dataKey:"perceptions",stackId:"a",fill:"#81c784",animationBegin:100,animationDuration:2e3}),r.a.createElement("svg",{width:1600,height:800},r.a.createElement(y.AnnotationLabel,{x:938,y:320,dy:-100,dx:100,color:"#ff8a65",note:{label:"Costa Rica tops the happiness index despite low gdp",align:"left",orientation:"topBottom",bgPadding:10,padding:15,titleColor:"#ffe0b2"}})))),r.a.createElement(u.a,{item:!0,xs:2})))}var v=a(78),j=a(327),x=a(333),O=a(31),k=Object(m.a)((function(e){return{chartLabel:{stroke:"white",fill:"white",fontWeight:400},countryLabel:{fontSize:30,stroke:"#eeeeee",fill:"#eeeeee"},hint:{fontSize:14,value:{color:"white"},backgroundColor:"grey"}}}));function S(e){var t=k();return r.a.createElement(O.g,{width:800,height:800,yDomain:[0,8],xDomain:[0,2]},r.a.createElement(O.e,null),r.a.createElement(O.b,null),r.a.createElement(O.f,{style:{line:{stroke:"white"},ticks:{stroke:"white"},text:{stroke:"none",fill:"white",fontWeight:400}}}),r.a.createElement(O.h,{style:{line:{stroke:"white"},ticks:{stroke:"white"},text:{stroke:"none",fill:"white",fontWeight:400}}}),r.a.createElement(O.a,{text:"".concat(e.chartXAxis," ").concat(e.attr),xPercent:.8,yPercent:.875,className:t.chartLabel}),r.a.createElement(O.a,{text:"Happiness Score",xPercent:.07,className:t.chartLabel}),r.a.createElement(O.a,{text:e.score,xPercent:.1,yPercent:.03,className:t.chartLabel}),r.a.createElement(O.a,{text:e.selectedCountry,xPercent:.1,yPercent:.85,className:t.countryLabel}),r.a.createElement(O.c,{animation:!0,opacity:.8,data:e.lineData,strokeWidth:8,color:"#bcaaa4"}),r.a.createElement(O.d,{data:e.chartData,sizeType:"literal",colorType:"literal",onValueMouseOver:function(t){e.setSelectedCountry(t.country);var a,n=[],r=Object(h.a)(e.chartData);try{for(r.s();!(a=r.n()).done;){var c=a.value;c.country===t.country?(c.size=10,c.color="#ffb74d"):(c.size=5,c.color="#12939A"),n.push(c)}}catch(o){r.e(o)}finally{r.f()}e.setChartData(n),e.setScore("(".concat(t.y,")")),e.setAttr("- ".concat(t.x.toFixed(2)))},onValueMouseOut:function(t,a){e.setSelectedCountry("");var n,r=[],c=Object(h.a)(e.chartData);try{for(c.s();!(n=c.n()).done;){var o=n.value;o.size=5,o.color="#12939A",r.push(o)}}catch(i){c.e(i)}finally{c.f()}e.setChartData(r),e.setScore(""),e.setAttr("")}}))}var w=a(732),C=a(731),N=Object(m.a)((function(e){return{title:{marginTop:e.spacing(8),fontSize:48,color:"white"},colorScale:{maxWidth:"30%",margin:"auto"},root:{flexGrow:1},chart:{margin:e.spacing(4)},btnGroup:{"& > *":{margin:e.spacing(1)},textAlign:"left"},btn:{backgroundColor:"white","&:hover":{backgroundColor:C.a[100]},"&:active":{backgroundColor:C.a[300]}},activeBtn:{backgroundColor:C.a[300],"&:hover":{backgroundColor:C.a[100]},"&:active":{backgroundColor:C.a[300]},"&:focus":{backgroundColor:C.a[300]}}}})),D=["#d53e4f","#f46d43","#fdae61","#abdda4","#66c2a5","#3288bd"],z=b.a().domain([2.6,3.8,4.8,5.8,6.8,7.8]).range(D);function A(e){var t=N(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)(""),y=Object(s.a)(f,2),b=y[0],g=y[1],E=Object(n.useState)([]),O=Object(s.a)(E,2),k=O[0],C=O[1],A=Object(n.useState)([]),B=Object(s.a)(A,2),I=B[0],P=B[1],W=Object(n.useState)([]),L=Object(s.a)(W,2),H=L[0],T=L[1],G=Object(n.useState)([]),K=Object(s.a)(G,2),M=K[0],R=K[1],F=Object(n.useState)([]),V=Object(s.a)(F,2),J=V[0],X=V[1],Z=Object(n.useState)([]),q=Object(s.a)(Z,2),Q=q[0],U=q[1],Y=Object(n.useState)([]),$=Object(s.a)(Y,2),_=$[0],ee=$[1],te=Object(n.useState)([]),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)("gdp per capita"),oe=Object(s.a)(ce,2),ie=oe[0],le=oe[1],se=Object(n.useState)(!0),ue=Object(s.a)(se,2),me=ue[0],pe=ue[1],de=Object(n.useState)(!1),he=Object(s.a)(de,2),fe=he[0],ye=he[1],be=Object(n.useState)(!1),ge=Object(s.a)(be,2),Ee=ge[0],ve=ge[1],je=Object(n.useState)(!1),xe=Object(s.a)(je,2),Oe=xe[0],ke=xe[1],Se=Object(n.useState)(!1),we=Object(s.a)(Se,2),Ce=we[0],Ne=we[1],De=Object(n.useState)(!1),ze=Object(s.a)(De,2),Ae=ze[0],Be=ze[1],Ie=Object(n.useState)(""),Pe=Object(s.a)(Ie,2),We=Pe[0],Le=Pe[1];Object(n.useEffect)((function(){var t,a=[],n=[],r=[],c=[],o=[],i=[],l="#12939A",s=Object(h.a)(e.reportData);try{for(s.s();!(t=s.n()).done;){var u=t.value;a.push({x:2*u["gdp-per-capita"]/1.69,y:u.score,country:u.country,size:5,color:l}),n.push({x:2*u["social-support"]/1.63,y:u.score,country:u.country,size:5,color:l}),r.push({x:2*u["healthy-life-expectancy"]/1.15,y:u.score,country:u.country,size:5,color:l}),c.push({x:2*u.freedom/.61,y:u.score,country:u.country,size:5,color:l}),o.push({x:2*u.generosity/.6,y:u.score,country:u.country,size:5,color:l}),i.push({x:2*u["perceptions-of-corruption"]/.46,y:u.score,country:u.country,size:5,color:l})}}catch(m){s.e(m)}finally{s.f()}C(a),P(n),T(r),R(c),X(o),U(i),ee(a),re([{x:.05,y:3.5},{x:2,y:6.6}])}),[e.reportData]),Object(n.useEffect)((function(){var e,t=[],a=Object(h.a)(_);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.country===We?(n.size=10,n.color="#ffb74d",i("(".concat(n.y,")")),d("- ".concat(n.x.toFixed(2)))):(n.size=5,n.color="#12939A"),t.push(n)}}catch(r){a.e(r)}finally{a.f()}ee(t)}),[We]);var He=function(e){var t=e.currentTarget.id;"gdp"===t?(pe(!0),ee(k),le("gdp per capita"),re([{x:.05,y:3.5},{x:2,y:6.6}])):pe(!1),"social"===t?(ye(!0),ee(I),le("social support"),re([{x:.05,y:3},{x:2,y:6}])):ye(!1),"healthy"===t?(ve(!0),ee(H),le("healthy"),re([{x:.05,y:2.7},{x:2,y:6.5}])):ve(!1),"freedom"===t?(ke(!0),ee(M),le("freedom"),re([{x:.05,y:3.3},{x:2,y:6}])):ke(!1),"generosity"===t?(Ne(!0),ee(J),le("generosity"),re([{x:.05,y:4.5},{x:2,y:6.5}])):Ne(!1),"perception"===t?(Be(!0),ee(Q),le("perception"),re([{x:.05,y:4.5},{x:2,y:7}])):Be(!1)};return(r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.title},"World Happiness"),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement(v.ComposableMap,{"data-tip":"",projectionConfig:{rotate:[-10,0,0],scale:120}},r.a.createElement(v.ZoomableGroup,null,r.a.createElement(v.Sphere,{stroke:"#E4E5E6",strokeWidth:.2}),r.a.createElement(v.Graticule,{stroke:"#E4E5E6",strokeWidth:.2}),156===e.reportData.length&&r.a.createElement(v.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(t){return t.geographies.map((function(t){var a=e.reportData.find((function(e){return e.country===t.properties.NAME}));return(r.a.createElement(v.Geography,{key:t.rsmKey,geography:t,fill:a?z(a.score):"white",onMouseEnter:function(){g("".concat(t.properties.NAME," - score: ").concat(a?a.score:"N/A")),Le(a?a.country:"")},onMouseLeave:function(){g(""),Le(""),d(""),i("")},style:{default:{outline:"none"},hover:{fill:a?z(a.score-.2):"white",outline:"none"},pressed:{fill:a?z(a.score-.2):"white",outline:"none"}}}))}))})))),r.a.createElement("div",{className:t.colorScale},r.a.createElement("p",null,"Low <- Happiness Index -> High"),r.a.createElement(j.Colorscale,{colorscale:D})),r.a.createElement(x.a,null,b)),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{className:t.chart},r.a.createElement(S,{attr:p,score:o,setScore:i,setAttr:d,lineData:ne,chartData:_,setChartData:ee,chartXAxis:ie,selectedCountry:We,setSelectedCountry:Le})),r.a.createElement("div",{className:t.btnGroup},r.a.createElement(w.a,{variant:"contained",className:me?t.activeBtn:t.btn,onClick:He,id:"gdp"},"GDP Per Capita"),r.a.createElement(w.a,{variant:"contained",className:fe?t.activeBtn:t.btn,onClick:He,id:"social"},"Social Support"),r.a.createElement(w.a,{variant:"contained",className:Ee?t.activeBtn:t.btn,onClick:He,id:"healthy"},"Healthy"),r.a.createElement(w.a,{variant:"contained",className:Oe?t.activeBtn:t.btn,onClick:He,id:"freedom"},"Freedom"),r.a.createElement(w.a,{variant:"contained",className:Ce?t.activeBtn:t.btn,onClick:He,id:"generosity"},"Generosity"),r.a.createElement(w.a,{variant:"contained",className:Ae?t.activeBtn:t.btn,onClick:He,id:"perception"},"Perceptions")))))))}var B=Object(m.a)((function(e){return{content:{margin:e.spacing(5)},link:{color:"green",fontSize:24,textDecoration:"underline"}}}));function I(){var e=B();return(r.a.createElement("div",{className:"section"},r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:2}),r.a.createElement(u.a,{item:!0,xs:8},r.a.createElement("h4",null,"Resources"),r.a.createElement("div",{className:e.content},r.a.createElement("a",{className:e.link,href:"https://worldhappiness.report/ed/2020/"},"World Happiness Report 2019")),r.a.createElement("div",{className:e.content},r.a.createElement("a",{className:e.link,href:"https://kaggle.com/roshansharma/world-happiness-report"},"Kaggle Dataset 2019")),r.a.createElement("div",{className:e.content},r.a.createElement("a",{className:e.link,href:"https://github.com/alvarotrigo/fullPage.js"},"Fullpage.js for slide show"))),r.a.createElement(u.a,{item:!0,xs:2}))))}var P=a(734),W=a(329),L=a.n(W),H=a(330),T=a(331),G=a(334),K=a(332),M=function(e){Object(G.a)(a,e);var t=Object(K.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Happiness Index Analysis"),r.a.createElement("p",null,"Created by Weidong Sun for CS498 Data Visualization"))}}]),a}(r.a.Component);function R(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){Object(P.a)(L.a).then((function(e){return c(e)}))}),[]),console.log(a),r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(d,null),r.a.createElement(E,{reportData:a}),r.a.createElement(A,{reportData:a}),r.a.createElement(I,null))}var F=["title","introduction","country-rank","world-happiness","resources"],V=function(){return r.a.createElement(l.a,{navigation:!0,anchors:F,navigationTooltips:F,sectionsColor:["#282c34","#282c34","#282c34","#282c34","#282c34"],onLeave:function(e,t,a){console.log("onLeave event",{origin:e,destination:t,direction:a})},render:function(e){var t=e.state,a=e.fullpageApi;return console.log("render prop change",t,a),r.a.createElement(R,null)}})};o.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[365,1,2]]]);
//# sourceMappingURL=main.fa9cac9a.chunk.js.map